{% extends 'base.html' %}

{% block title %}
Список всех статей статьи
{% endblock %}

{% block content %}
<div class="container">
	<div class="row align-items-center mb-4">
		<div class="col">
			<h2 class="mb-0">Все статьи</h2>
			<p class="text-muted">Полный список статей в нашем блоге</p>
		</div>
	</div>

	{% if articles %}
	<div class="row">
		{% for article in articles %}
		<div class="col-12 mb-4">
			<div class="card news-card h-100 shadow-sm">
				<div class="card-body">
					<div class="d-flex justify-content-between align-items-start mb-2">
						<h5 class="card-title mb-0">{{ article.title }}</h5>
						{% if article.date.date() == today %}
						<span class="badge bg-success ms-2 new-badge">НОВОЕ</span>
						{% endif %}
					</div>

					<div class="d-flex justify-content-between align-items-center mb-3">
						<p class="card-text text-muted small mb-0">
							<i class="bi bi-calendar3"></i> {{ article.date.strftime('%d.%m.%Y в %H:%M') }}
						</p>
						{% if article.author %}
						<p class="card-text text-muted small mb-0">
							Автор: {{ article.author }}
						</p>
						{% endif %}
					</div>

					<p class="card-text mb-3">{{ article.preview }}</p>

					<div class="d-flex justify-content-between align-items-center">
						<a href="{{ url_for('news', id=article.id) }}" class="btn btn-primary btn-sm">
							Читать полностью →
						</a>
						<div>

							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
	{% else %}
	<div class="text-center py-5">
		<h4>Пока что нет статей :(</h4>
	</div>
	{% endif %}
</div>
{% endblock %}