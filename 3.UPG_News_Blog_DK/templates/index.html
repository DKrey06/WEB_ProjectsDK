{% extends 'base.html' %}

{% block title %}
–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
{% endblock %}

{% block content %}
<div class="container">
	<div class="row align-items-center mb-4">
		<div class="col">
			<h2 class="mb-0">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ù–æ–≤–æ—Å—Ç–Ω–æ–π –ë–ª–æ–≥!</h2>
		</div>
		<div class="col-auto">
			<a href="{{ url_for('create_article') }}" class="btn btn-success">–°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é</a>
		</div>
	</div>
	<div class="row">
		{% for article in articles %}
		<div class="col-lg-6 mb-4">
			<div class="card news-card h-100 shadow-sm">
				<div class="card-body d-flex flex-column">
					<div class="d-flex justify-content-between align-items-start mb-2">
						<h5 class="card-title mb-0">{{ article.title }}</h5>
						{% if article.date.date() == today %}
						<span class="badge bg-success ms-2 new-badge">–ù–û–í–û–ï</span>
						{% endif %}
					</div>

					<p class="card-text text-muted small mb-3">
						<i class="bi bi-calendar3"></i> {{ article.date.strftime('%d.%m.%Y') }}
					</p>

					<p class="card-text mb-3 flex-grow-1">{{ article.preview }}</p>

					<div class="mt-auto">
						<div class="d-flex justify-content-between align-items-center">
							<a href="{{ url_for('news', id=article.id) }}" class="btn btn-primary btn-sm">
								–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí
							</a>
							<div>
								<a href="{{ url_for('edit_article', id=article.id) }}"
									class="btn btn-outline-warning btn-sm me-1">
									‚úèÔ∏è
								</a>
								<form action="{{ url_for('delete_article', id=article.id) }}" method="POST"
									class="d-inline" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç—å—é?')">
									<button type="submit" class="btn btn-outline-danger btn-sm">
										üóëÔ∏è
									</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
</div>

{% endblock %}